---
title: "NCCS 'Core' Data Catalog"
format: html
editor: visual
execute: 
  echo: false
  warning: false
  
---

```{r}
#| echo: false

library( dplyr )
library( knitr )
library( kableExtra )
library( stringr )
library( flextable )
library( pander )

GH.RAW <- "https://raw.githubusercontent.com/lecy/nccs/main/catalogs/"
d <- read.csv( paste0( GH.RAW, "AWS-NCCSDATA.csv" ) )
source( paste0( GH.RAW, "build-catalog-functions.R" ) )

make_buttons_2 <- function( urls ) {
  buttons <- 
    paste0( 
      "<a href=",
      urls,
      " class='button2'> PROFILE </a>" )
  return( buttons ) 
}
```


<br>
<hr>
<br>


#### 501c3 CHARITIES SCOPE PZ

```{r}
#| echo: false
#| output: asis
 
paths <- get_core_paths( paths=d$Key, tscope="CHARITIES", fscope="PZ" )
urls  <- make_urls( paths )

BUTTONS  <- make_buttons( urls )
BUTTONS2 <- make_buttons_2( urls )
TSCOPE   <- get_core_tscope( paths )
FSCOPE   <- get_core_fscope( paths )
YEAR     <- get_core_year( paths )

catalog <- 
  data.frame( 
    BUTTONS,
    BUTTONS2,
    YEAR=YEAR,
    NP_TYPE=TSCOPE, 
    FORM_SCOPE=FSCOPE )
```


```{r}
#| echo: false

catalog %>%
  knitr::kable( escape=FALSE,
                col.names = c( "", "",
                           "Year",
                           "Nonprofit Type",
                           "Form Scope" ) ) %>%
  kableExtra::kable_styling()
```

<br>
<hr>
<br>




#### 501c3 CHARITIES SCOPE PC

```{r}
#| echo: false

paths <- get_core_paths( paths=d$Key, tscope="CHARITIES", fscope="PZ" )
urls  <- make_urls( paths )



BUTTONS <- make_buttons( urls )
TSCOPE  <- get_core_tscope( paths )
FSCOPE  <- get_core_fscope( paths )
YEAR    <- get_core_year( paths )

catalog <- 
  data.frame( 
    BUTTONS, 
    NP_TYPE=TSCOPE, 
    FORM_SCOPE=FSCOPE, 
    YEAR=YEAR )
```




```{r}
#| echo: false

catalog %>%
  knitr::kable( escape=FALSE,
                col.names = c("",
                           "Nonprofit Type",
                           "Form Scope",
                           "Year") ) %>%
  kableExtra::kable_styling()
```

<br>
<hr>
<br>




#### NONPROFITS SCOPE PZ

```{r}
#| echo: false

paths <- get_core_paths( paths=d$Key, tscope="NONPROFIT", fscope="PZ" )
urls  <- make_urls( paths )


BUTTONS <- make_buttons( urls )
TSCOPE  <- get_core_tscope( paths )
FSCOPE  <- get_core_fscope( paths )
YEAR    <- get_core_year( paths )

catalog <- 
  data.frame( 
    BUTTONS, 
    NP_TYPE=TSCOPE, 
    FORM_SCOPE=FSCOPE, 
    YEAR=YEAR )
```



```{r}
#| echo: false

catalog %>%
  knitr::kable( escape=FALSE,
                col.names = c("",
                           "Nonprofit Type",
                           "Form Scope",
                           "Year") ) %>%
  kableExtra::kable_styling()
```

<br>
<hr>
<br>




#### NONPROFITS SCOPE PC

```{r}
#| echo: false

paths <- get_core_paths( paths=d$Key, tscope="NONPROFIT", fscope="PC" )
urls  <- make_urls( paths )


BUTTONS <- make_buttons( urls )
TSCOPE  <- get_core_tscope( paths )
FSCOPE  <- get_core_fscope( paths )
YEAR    <- get_core_year( paths )

catalog <- 
  data.frame( 
    BUTTONS, 
    NP_TYPE=TSCOPE, 
    FORM_SCOPE=FSCOPE, 
    YEAR=YEAR )

```


```{r}
#| echo: false

catalog %>%
  knitr::kable( escape=FALSE,
                col.names = c("",
                           "Nonprofit Type",
                           "Form Scope",
                           "Year") ) %>%
  kableExtra::kable_styling()
```

<br>
<hr>
<br>





#### PRIVATE FOUNDATIONS SCOPE PF

```{r}
#| echo: false

paths <- get_core_paths( paths=d$Key, tscope="PRIVFOUND", fscope="PF" )
urls  <- make_urls( paths )


BUTTONS <- make_buttons( urls )
TSCOPE  <- get_core_tscope( paths )
FSCOPE  <- get_core_fscope( paths )
YEAR    <- get_core_year( paths )

catalog <- 
  data.frame( 
    BUTTONS, 
    NP_TYPE=TSCOPE, 
    FORM_SCOPE=FSCOPE, 
    YEAR=YEAR )

```



```{r}
#| echo: false

catalog %>%
  knitr::kable( escape=FALSE,
                col.names = c("",
                           "Nonprofit Type",
                           "Form Scope",
                           "Year") ) %>%
  kableExtra::kable_styling()
```

<br>
<hr>
<br>







<style>


h1.title {
 font-size: 60px;
 color: #0a4c6a;
}


h4, .h4 {
    font-size: 40px;
    color: #1696d2;
    margin-bottom: 50px;
}



.button {
  background-color: white;
  color: black;
  border: 2px solid #0a4c6a;   /* #008CBA; */
  padding: 5px 10px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 14px;
  border-radius: 12px;
  width: 150px;
}
 
.button {
  transition-duration: 0.4s;
}

.button:hover {
  background-color: #1696d2; 
  color: white;
  border: 2px solid #12719e;
}


.button2 {
  background-color: white;
  color: black;
  border: 2px solid #fdbf11;   /* #008CBA; */
  padding: 5px 10px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 14px;
  border-radius: 12px;
  width: 150px;
}

.button2 {
  transition-duration: 0.4s;
}

.button2:hover {
  background-color: #e88e2d; 
  color: white;
  border: 2px solid  #ca5800;
}


.center {text-align: center;}

table td {
  vertical-align: middle;
}

blockquote {
    border-left: 4px solid #1696d2;
    margin-left: 10px;
    margin-inline-start: 0px;
    margin-inline-end: 0px;
    padding: 15px;
}

.button3 {
  background-color: #0a4c6a;
  color: white;
  border: 2px solid #0a4c6a;   
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  border-radius: 4px;
  width: 100px;
}
</style>
